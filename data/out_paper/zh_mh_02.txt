
 影响UA Vs配备ADS-B对民用航空监测系统的影響
Yiyang Liao, Lei Zhang, Ziye Jia, Chao Dong, Yifan Zhang, Qihui Wu, Huiling Hu和Bin Wang
关键词：UA V，ADS-B，民用航空，频段阻塞。

摘要
近年来，对于无人机（UA Vs）的需求日益增加，它们在完成多种应用方面发挥着越来越重要的作用。然而，由于UA Vs是无人机，因此可能带来一些安全风险，影响到民用航空的安全。为了加强UA Vs的飞行管理并确保其安全性，可以考虑为UA Vs配备自动相关监视广播（ADS-B）设备。此外，作为一种自动系统，ADS-B可以定期向附近飞机或地面站广播飞行信息。尽管如此，由于ADS-B技术的频率限制，配备ADS-B设备的UA Vs可能导致UA Vs和民用航空数据包丢失，从而影响民用航空的信息更新。为民用航空监测系统中的UA Vs配备ADS-B设备会带来一定的性能下降。因此，本文首先研究了不同距离下民用飞机的数据包丢失情况，然后分析了配备ADS-B设备的UA Vs对民用飞机数据包更新的影响。结果显示，1090MHz带宽受到UA Vs密度的影响。此外，频率容量受民用飞机更新间隔要求的影响。当有200架飞机在50公里内，20架UA Vs在5公里内时，3秒内的位置更新概率为92.3%。当有200架飞机在50公里内，40架UA Vs在5公里内时，3秒内的位置更新概率为86.9%。

一、引言
随着低空经济的发展，无人机（UA Vs）在民用航空监测系统中扮演着越来越重要的角色。此外，UA Vs被认为是未来无线接入网络的重要技术之一。UA Vs可用于许多应用场景，例如监控系统、航空摄影、信息重传等。此外，UA Vs还可应用于许多详细场景，如火灾救援、生态观测、地形探索等。然而，由于缺乏机载操作，如何确保UA Vs的安全运行成为一个重要问题。一个可能的解决方案是为UA Vs配备自动相关监视广播（ADS-B）设备，这在民用航空中已经得到广泛应用。

在国际民航组织（ICAO）中，ADS-B用于辅助传统主波段和次波段雷达监视。装备有ADS-B的飞机可自动将其位置和其他信息传输给周围的飞机、车辆和地面站（GS）。这些信息不仅有助于飞行安全，还有助于其他方面，如通信网络等。ADS-B技术使飞机能够识别彼此的位置，并自动维持安全距离。此外，ADS-B帮助交通管制员（ATC）监测和控制路线或接近机场终端的飞机。简言之，ADS-B具有以下优点：
• ADS-B有助于在缺乏地面雷达站的远程地区（如极地、山区和海洋）建立新航线。
• ADS-B有助于提高导航精度，降低飞行安全间隔距离并增加可用空域。
• ADS-B有助于飞机在不与ATC接触的情况下爬升和下降，避免无法使用的空域并灵活地更改航线。
UA Vs配备ADS-B系统有助于提高飞行安全，并通过空中交通管理（ATM）简化UA Vs的控制。然而，这种方法的一个局限性在于，UA Vs和民用航空在1090MHz频段共享同一频段。由于频谱资源有限，如果许多UA Vs使用此频段，UA Vs和民用飞机的数据包可能会发生冲突，导致数据丢失并使民用航空相关信息出现较长的延迟。这严重干扰了ATM对民用航空的监测。由于路由更新间隔的容错性，一些UA Vs可以在相同频段内访问。但是，如果被访问的UA Vs数量过少，频谱资源利用将减少。因此，如何在UA Vs和民用飞机之间平衡数量已成为一个关键问题。

参考文献
 飞机与ADS-B
UAV与ADS-B 100km
GSX
YZ
OFig. 1. 考虑空气空间模型。
表格I
S-M ODE 扩展数据包
字节 5bits 3bits 24bits 56bits 24bits
字段名称 DF CA/CF AA ME PI
ntity of 1500 is只有理论值[11]。在[12]，作者使用下链路格式（DF）17代码表示民用飞机，使用DF 18代码表示UAV Vs。它指出，频率带阻塞的影响主要由UAV Vs的密度和信号传输功率决定。基于ALOHA协议，[13]讨论了负载与吞吐量之间的关系以及飞机数量与成功接收概率之间的关系。[14]指出，通道容量主要受链路比特错误率影响，随着 packets 更新间隔的需求变化而变化。然而，这些工作并没有同时考虑到民用飞机和UAV Vs。此外，这些工作也没有考虑到 3D 模型以及通道误差。

如图1所示，本文研究了配备 ADS-B 的 UAV 对1090MHz频率的影响，并分析了在给定民用飞机 packets 更新间隔内一定数量 UAV Vs 的影响。首先，本文检查了在不同距离没有 UAV Vs 时民用飞机的 packets 碰撞损失。然后，我们将错误损失考虑进信道传播中。最后，我们分析了不同数量的 UAV Vs 下的民用飞机 packets 损失。数据表明，1090MHz 频段阻塞受到 UAV Vs 密度的影響。此外，频率容量受民用飞机更新间隔需求的影响。

本文其余部分组织如下。ADS-B 相关 packets 在第II节中介绍。信道模型在第III节中介绍。第IV节提供了模拟结果和相关分析。第V节总结了结论。

表II
PACKET INTERVAL
ADS-B 数据包生成间隔 (s) 摇摆间隔 (s)
POS 0.5 0.4∼0.6
VEL 0.5 0.4∼0.6
ID 5 4.8∼5.2
AOS 2.5 2.4∼2.6
TSS 1.25 1.2∼1.3

表III
航空地面数据链
航空地面 95% 位置更新间隔概率
范围 5英里终端周围 3英里途中
更新间隔 (s) 3 6

II. ADS-B R ELATED PACKETS
本节展示了经典 ADS-B 数据包的结构和不同字段的函数。然后，本节详细介绍了有关航空位置数据包的信息。最后，本节介绍了所有 ADS-B 相关数据的摇摆间隔。

A. 经典 ADS-B 数据包结构
ADS-B 是 S-模式扩展数据包，其主要 body 长度为 112 位，如表I中所示[15]。DF 字段为 5 位长，用于区分不同的下链路格式。DF=17表示 S-模式转发器发送 ADS-B 数据包，而 DF=18表示非 S-模式转发器发送 ADS-B 数据包。代码能力/格式（CA/CF）字段在不同 DF 值有不同的含义。如果 DF=17，则字段为 CA，表示转发器能力。如果 DF=18，则字段为 CF，表示编码格式。飞机地址（AA）字段表示发送设备的地址。消息（ME）字段包含 ADS-B 服务数据。奇偶校验和（PI）字段是一个下链路字段，表示奇偶校验和。但是，每个 ADS-B 数据包都有 8 位控制字符串，因此一个完整的 ADS-B 数据包共有 120 位，持续 120 微秒。ADS-B 数据包由飞机定期发送，或者在特定事件触发后相应地发送数据包。

Different ME 字段分别包含飞机空中位置（POS）、飞机识别和类别（ID）、航空速度（VEL）、飞机运行状态（AOS）、飞机目标状态和其他信息（TSS）。不同的 ADS-B 数据包及其相应的生成间隔如下表所示。POS 数据包的平均生成间隔为 0.5s， Vel 数据包的间隔为 0.5s。此外，ID 数据包的间隔为 5s，AOS 数据包的间隔为 2.5s。TSS 数据包的间隔为 1.25s。为了减轻冲突，生成间隔不是固定间隔，而是摇摆间隔。

B. 航空位置数据包
ADS-B 系统以 0.5s 的周期向外界广播 POS 数据包，这是最重要的
 所有与ADS-B相关的数据包。在接收多个POS数据包后，地面站（GS）会在其雷达上生成相应航班的航迹。当数据包持续丢失时，GS清除飞机的飞行路径，认为飞机已经离开控制空域。由于数据包碰撞或信道衰减的影响，POS数据包不可避免地丢失。因此，位置更新间隔被引入来衡量更新质量，这意味着GS只需在有限时间内接收一个POS数据包。如表III所示，对于航空地面数据链路，机场终端的ADS-B接收器需要不小于95%的概率在3秒内接收到飞机在3英里范围内的POS数据包。对于航空路线的ADS-B接收器需要不小于95%的概率在6秒内接收到飞机在5英里范围内的POS数据包[16]。
C. 摇摆间隔

在本文中，我们引入了摇摆间隔以减轻数据包冲突。如表II所示，POS数据包的摇摆间隔为[0.4秒，0.6秒]。 Vel数据包的摇摆间隔为[0.4秒，0.6秒]。 ID数据包的摇摆间隔为[4.8秒，5.2秒]。 AOS数据包的摇摆间隔为[2.4秒，2.6秒]。 TSS数据包的摇摆间隔为[1.2秒，1.3秒]。 S模式数据包（SMAG）负载为56位，考虑到8位控制字符串，实际总长度为64位。在[17]中，作者指出S模式和ADS-B数据包的比例为1:1，因此我们假设每架飞机每秒传输5个S模式数据包。

III. CHANNEL MODEL

如图1所示，飞机在半径为50公里的空气空间中随机分布。由于大小和有限的 endurance 距离，UA Vs 在半径为5公里的空气空间中随机分布。 GS 在空气范围内的二维几何中心放置。

所有飞机和UA Vs通过随机访问访问1090MHz的信道，即采用ALOHA协议作为媒体访问控制（MAC）协议。

所有飞机都在一跳范围内，即数据包无需转发。如果一个数据包在信道传输过程中没有错误代码并且不与其他飞机发送的数据包重叠，它可以到达GS并正确接收。

在处理无线电信号时，信号的功率或幅度通常用分贝（dB）表示。以下公式使用dB表示信号关系。

飞机的ADS-B传输功率固定为P(dBm) ，UA Vs的ADS-B传输功率固定为p(dBm)。 GS设置为一个具有接收灵敏度A(dBm)的ADS-B接收站。为每个飞机生成一个随机距离参数d，其中d的范围为0公里至50公里，它表示飞机到GS的直距离。当考虑的时间很小的时候，假设每架飞机都是准静态的，即每架飞机到GS的距离不变。将所有软件定义无线电传输视为视距。f(MHz)代表工作频率。然后通过以下传播公式计算传播损失（dBm）：

Loss = 32.44 + 20lg d+ 20lg f. (1)

ADS-B数据包采用8PSK编码形式进行112位数据传输[18] [19]。解调器的输入信号功率（dBm）为：

S=P−Loss. (2)

并且Sm必须满足：S≥A. 高斯白噪声功率为N=n0×B. n0 是高斯白噪声的功率密度，B是带宽。由于ADS-B系统在1090MHz运行，此频段属于超高频。在民用航空系统中，962MHz∼1213MHz用于距离测量设备系统，通道间隔为1MHz。但是，1090MHz保留给ADS-B系统。因此，带宽B=1MHz。解调器的输入信号与噪声比（SNR）为r：

r=S
N. (3)

M-尺度PSK的比特错误率公式为：

Pe= 1−1
2πZπ
M
−π
Me−r[1 +√
4πrcosθer(cosθ)2
1√
2πZ√
2rcosθ
−∞e−x2
2dx]dθ.(4)

当Mis 8时，比特错误率Pe公式近似为：

Pe≈erfc(r
rsinπ
M). (5)

在现实中有三种情况会导致数据包丢失：数据包碰撞、数据包出错以及错误的数据包与完整的数据包发生冲突。数据包碰撞意味着两个数据包同时到达GS，导致这些数据包被丢弃。数据包出错意味着在信道传播过程中出现一些错误码，这也导致数据包被丢弃。此外，即使数据包有错误且与完整的数据包发生冲突，也可以继续到达GS，从而导致数据包碰撞。因此，不能简单地将一个随机因子分配给飞机以判断数据包是否有错误并直接丢弃。此外，在GS处生成一个随机因子以确定数据包是否有错误并直接丢弃也是不可能的。为了保证所有数据包的公平性，随机因子i∈(0∼1)在飞机上设置。如果i <(1−Pe)，我们将它在数组中记录为好数据包。如果i≥(1−Pe)，我们将它记录为坏数据包在数组中。由于所有数据包在自由空间中传播，导致相互碰撞并产生数据包丢失，GS会丢弃坏数据包。
 开始
初始化生成数据包的间隔s
设置仿真时间
飞机生成初始数据包
将第一个数据包排入队列
 advancing 仿真时钟
slot开始发送数据包类型
velocity position aos tss smag id
添加序列号
事件类型
slot开始发送结束发送
startMAC
receivedArrived
信标
感知
数据包冲突
MAC  
接收记录
发送和接收
时间
发送
endRecord
通道状态
发送
开始统计在
接收的数据包
统计在
连续数据包
丢失记录
到达时间
生成新数据包
在摇摆间隔
到达槽结束
槽结束没有
仿真时间结束Yes
No
收集结果
结束YesNoYes
将结果 back into 发送队列
数据包
错误
没有Yes plug back into 发送队列
图2。流程图。
IV。 S 仿真结果和分析
本节使用代码块进行仿真，旨在研究1090MHz的容量。仿真基于离散事件排队系统。事件只在可计数的时间点出现，所以系统的状态只能在可计数的时间点发生变化。如果没有连续性，则只在事件变化时进行事件处理。系统仿真流程图见图2。总的仿真时间为500秒。工作频率为1090MHz。
50 100 150 200
飞机数量0.880.90.920.940.960.981
接收比例最大
平均
最小
图3。不同机翼上的接收比例。
在仿真中使用的接收比例定义为：
接收比例=GS收到的数据包数
飞机发送的数据包数。
(6)
如图3所示，分别设置了50/100/150/200架飞机，ADS-B仅发送POS数据包和ID数据包。只有碰撞数据包丢失存在。飞机数量和接收比例分别显示在图3中。从图3中可以看出，不同的飞机数量对应着不同的接收比例。随着飞机数量的增加，数据包碰撞变得越来越严重，接收比例降低。
如圖4所示，固定飞机数量為200，ADS-B發送POS數據包、ID數據包、VEL數據包、TSS數據包、AOS數據包和S-mode數據包。存在碰撞数据包丢失。如图4所示，在引入6种数据包後，接收比例顯著下降，平均接收比例為68.15%。GS收到的POS数据包的失真情况顯示在表IV中。前一個 packets 失誤情況不包含彼此。GS成功接收了632個POS數據包並失去了372個POS數據包。生成POS數據包的平均周期為0.5秒。如果更新間隔的要求為3秒，即超過6個連續數據包失靈被視為位置未更新。在3秒內更新的概率為97.8％。
如圖5所示，每架飞机都添加了距離因子，數據傳輸與通道模型相加。在添加距離因子的情況下，除了由碰撞引起的數據包失誤外，傳輸損失引起的錯誤代碼也會使數據包被丢弃。 fixing the number of planes as 200，ADS-B發送6種類型的數據包。接收比例與距離之间的关系示於圖5。隨著距離的增加，傳輸損失增加，數據包錯誤增加，接收比例減少。平均接收比例為48.66%。GS收到的POS數據包的失真情況顯示在表IV中。總共，收到464個POS數據包，失去533個POS數據包。生成POS數據包的平均周期為0.5秒。如果更新間隔的要求為3秒，即超過6個連續數據包失靈被視為位置未更新。在3秒內更新的概率為93.2％。
 0 50 100 150 200
飞机编号0至1990.660.670.680.690.70.71接收比例图4。不同平面的接收比例。
0 10 20 30 40 50
距离（公里）0.40.450.50.550.60.650.7接收比例
图5。不同距离的平面上的接收比例。
总共有200架飞机和20个UA Vs，如图6所示。
飞机以P=44dBm（25W）在0∼50km的空气空间内随机分布，UA Vs以p=30dBm（1W）在0∼5km的空气空间内随机分布。
GS的接收灵敏度设置为-93dBm。所有飞机发送6种数据包，存在碰撞损失和错误损失。接收比例与飞机和UA Vs之间的距离关系如图6所示。由于1090MHz的频段有限，引入UA Vs加剧了飞机的碰撞损失。同时，由于UA Vs的负载有限，ADS-B在UA Vs上的传输功率也小于飞机。因此，尽管GS与UA Vs之间的距离较短，但UA Vs的丢包率大于民用飞机。GS的平均接收比例为46.55%。GS的POS数据包丢失情况如表IV所示。共收到579个POS数据包，丢失了422个POS数据包。如果更新间隔要求为3秒，即超过6个连续数据包丢失则认为位置未更新。在3秒内的位置更新概率为92.3%。

在图7中，共有200架飞机和40个UA Vs。飞机以P=44dBm（25W）在0∼50km的空气空间内随机分布，UA Vs以p=30dBm（1W）在0∼5km的空气空间内随机分布。
GS的接收灵敏度设置为-93dBm。所有飞机发送6种数据包，存在碰撞损失和错误损失。接收比例与飞机和UA Vs之间的距离关系如图7所示。由于1090MHz的频段有限，引入UA Vs加剧了飞机的碰撞损失。同时，由于UA Vs的负载有限，ADS-B在UA Vs上的传输功率也小于飞机。因此，尽管GS与UA Vs之间的距离较短，但UA Vs的丢包率大于民用飞机。GS的平均接收比例为45.25%。GS的POS数据包丢失情况如表IV所示。共收到364个POS数据包，丢失了629个POS数据包。如果更新间隔要求为3秒，即超过6个连续数据包丢失则认为位置未更新。在3秒内的位置更新概率为86.9%。

V. 结语
本研究分析了1090MHz频率下，配备ADS-B的UA Vs对民用飞机的影响。我们设定了一些条件。首先，我们假设只有发送2种数据的民用飞机能够访问1090MHz，随着飞机数量增加，接收比例降低。数据包仅因碰撞损失而被丢弃。然后，我们增加了6种数据包，符合实际情况。此外，我们引入了信道模型，意味着数据包可能因错误损失而被丢弃。最后，我们将UA Vs引入模拟中，检查接收比例和位置更新概率。仿真数据显示
 表IV：
空中位置数据包损失
N个数据包连续丢失的概率(GS在图4中)概率(GS在图5中)概率(GS在图6中)概率(GS在图7中)
1个数据包 144 82 134 95
2个数据包 50 49 40 46
3个数据包 25 36 24 36
4个数据包 5 14 8 22
5个数据包 1 11 3 11
6个数据包 1 11 2 10
7个数据包 2 5 1 6
8个数据包 1 3 3 2
9个数据包 0 1 4 4
10个数据包 0 0 1 1
11个数据包 0 0 0 1
16个数据包 0 0 0 1
UA Vs与density的关系。此外，频率容量受到民机更新间隔的需求影响。随着距离的增加，接收比例降低。离GS 50公里处失去数据的飞机的损失比例大约可达60％。此外，当50千米范围内有200架飞机和5千米范围内有20架UA Vs时，GS的平均接收比例为46.55％，位置更新概率为92.3％。如果UA Vs的数量变为40，GS的平均接收比例为45.25％，位置更新概率为86.9％。
参考文献
[1] Y . Zhang, Z. Jia, C. Dong, Y . Liu, L. Zhang和Q. Wu, "基于ADS-B信息的重复LSTM-UA V轨迹预测"，IEEEGlobecom ，Rio de Janeiro，巴西，2022。
[2] L. Gupta, R. Jain和G. Vaszkun，"UA V通信网络中的重要问题调查"，在IEEE Communications Surveys & Tutorials ，第18卷第2期，pp. 1123-1152，2016年第二季度，DOI：10.1109/COMST.2015.2495297。
[3] Q. Zhang, J. Chen, L. Ji, Z. Feng和Z. Chen，"移动边缘计算支持UA V Swarm响应延迟优化"，IEEE Trans. Veh. Technol. ，vol. 69，no. 99，pp. 3280-3295，2020。
[4] Z. Jia, M. Sheng, J. Li, Dusit Niyato和Z. Han，"辅助卫星助力UA V：6G空中接入网 joint轨迹和数据收集"，IEEE Internet Things J. ，vol. 8，no. 12，pp. 9814-9826，2021。
[5] G. Gui, Z. Zhou, J. Wang, F. Liu和J. Sun，"基于航空大数据的机器学习空气交通流量分析"，在IEEE Transactions on Vehicular Technology ，vol. 69，no. 5，pp. 4817-4826，2020。
[6] Y . Zhou, H. Liu和B. Li，"天津终端区1090MHz频段 blocksignal研究报告"，9th International Conference on Research in Air Transportation ，2020。
[7] P. Tang，"基于ADS-B的数据监控技术性能评估"，博士论文，中国民航大学，2015。
[8] S. ur Rahman, G. Kim, Y . Cho和A. Khan，"软件定义灾难区域UA V通信网络中UA Vs定位"，在Journal of Communications and Networks ，vol. 20，no. 5，pp. 452-463，Oct. 2018，DOI：10.1109/JCN.2018.000070。
[9] M. Strohmeier, M. Schafer, V . Lenders和I. Martinovic，"下一代